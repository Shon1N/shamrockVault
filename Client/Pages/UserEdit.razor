@page "/useredit/{userId}"
@inherits ShamrockVault.Client.Pages.UserEditBasee
@using Microsoft.AspNetCore.Components


<div class="page-ribbon">
    <h3>Edit user</h3>
</div>
<div class="card-deck">
    @if (@User != null)
    {
        <div class="card m-3" style="min-width: 18rem; max-width:30.5%;">
            <div class="card-header">
                <h3>@User.UserName</h3>
            </div>
            <div class="card-footer text-center">
                <a @onclick="() => DeleteUser(User.UserId)" class="btn btn-danger m-1">Delete</a>
            </div>
        </div>
    }
    else
    {
        <div class="spinner"></div>
    }
</div>
@if (@User != null)
{
    <EditForm Model="@User" OnValidSubmit="HasValidSubmit">
        <div class="form-group row">
            <label for="inputName" class="col-sm-2 col-form-label">Username</label>
            <div class="col-sm-10">
                <InputText @bind-Value="User.UserName" class="form-control" id="inputName" />
            </div>
        </div>
        <div class="form-group row">
            <label for="Confirmed" class="col-sm-2 col-form-label">Active</label>
            <div class="col-sm-10">
                <input id="Confirmed" type="checkbox" @bind="@User.Confirmed" />
            </div>
        </div>
        <div class="form-group row">
            <label for="categoryIDs" class="col-sm-2 col-form-label">Roles</label>
            <div class="multiselect">
                <div id="checkboxes">
                    @foreach (var item in RolesOfUser)
                    {
                        <div>
                            <input type="checkbox" @bind="item.IsSelected" /> @item.Name
                        </div>
                    }
                </div>
            </div>

        </div>
        <button class="btn btn-success m-1" type="submit">Save</button>
    </EditForm>

}
else
{
    <div class="spinner"></div>
}

@code {


}